# æ·»åŠ æ ‡ç­¾è¡¨å•éšè—é—®é¢˜ä¿®å¤

## ğŸ› é—®é¢˜
æ·»åŠ æ ‡ç­¾æˆåŠŸåï¼Œè¡¨å•ä»ç„¶æ˜¾ç¤ºï¼Œæ²¡æœ‰è‡ªåŠ¨éšè—ã€‚

## ğŸ” å¯èƒ½åŸå› 
1. `del st.session_state.add_tag_category_id` å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ä¸ç”Ÿæ•ˆ
2. æµè§ˆå™¨ç¼“å­˜å¯¼è‡´æ—§ä»£ç ä»åœ¨è¿è¡Œ
3. StreamlitæœåŠ¡æ²¡æœ‰é‡æ–°åŠ è½½æœ€æ–°ä»£ç 

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. ä½¿ç”¨æ›´å®‰å…¨çš„çŠ¶æ€æ¸…é™¤æ–¹æ³•
```python
# ä¿®æ”¹å‰
if 'add_tag_category_id' in st.session_state:
    del st.session_state.add_tag_category_id

# ä¿®æ”¹å
st.session_state.pop('add_tag_category_id', None)
```

`pop()` æ–¹æ³•æ›´å®‰å…¨ï¼Œå³ä½¿keyä¸å­˜åœ¨ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚

### 2. è°ƒæ•´ä»£ç é¡ºåº
```python
if add_tag_response.get("success"):
    # 1. å…ˆè®¾ç½®æˆåŠŸæ¶ˆæ¯
    st.session_state.tag_success_message = "âœ… æ ‡ç­¾æ·»åŠ æˆåŠŸï¼"
    # 2. æ¸…é™¤è¡¨å•çŠ¶æ€
    st.session_state.pop('add_tag_category_id', None)
    # 3. å¼ºåˆ¶é‡æ–°åŠ è½½
    st.rerun()
```

### 3. é‡å¯StreamlitæœåŠ¡
ç¡®ä¿æœ€æ–°ä»£ç ç”Ÿæ•ˆï¼š
```bash
# åœæ­¢æ—§è¿›ç¨‹
Get-Process python | Stop-Process -Force

# å¯åŠ¨æ–°è¿›ç¨‹
python -m streamlit run src/ui/app.py --server.port 8501
```

### 4. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
åœ¨æµè§ˆå™¨ä¸­ï¼š
- Windows: `Ctrl + Shift + R` æˆ– `Ctrl + F5`
- Mac: `Cmd + Shift + R`

## ğŸ“‹ éªŒè¯æ­¥éª¤

1. **é‡å¯æœåŠ¡**
   - åœæ­¢å½“å‰Streamlitè¿›ç¨‹
   - é‡æ–°å¯åŠ¨Streamlit

2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - æŒ‰ `Ctrl + Shift + R` å¼ºåˆ¶åˆ·æ–°
   - æˆ–è€…æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

3. **æµ‹è¯•æµç¨‹**
   ```
   1. æ‰“å¼€èŒä½åˆ†ç±»ç®¡ç†é¡µé¢
   2. å±•å¼€ç¬¬ä¸‰å±‚çº§åˆ†ç±»
   3. ç‚¹å‡»"ğŸ·ï¸ æ·»åŠ æ ‡ç­¾"
      â†’ è¡¨å•å‡ºç° âœ…
   
   4. å¡«å†™æ ‡ç­¾ä¿¡æ¯å¹¶æäº¤
      â†’ é¡µé¢åˆ·æ–°
      â†’ é¡¶éƒ¨æ˜¾ç¤º"âœ… æ ‡ç­¾æ·»åŠ æˆåŠŸï¼"
      â†’ è¡¨å•æ¶ˆå¤± âœ…
      â†’ æ–°æ ‡ç­¾å‡ºç°åœ¨åˆ—è¡¨ä¸­ âœ…
   
   5. å†æ¬¡ç‚¹å‡»"ğŸ·ï¸ æ·»åŠ æ ‡ç­¾"
      â†’ è¡¨å•é‡æ–°å‡ºç° âœ…
   ```

## ğŸ’¡ å…³é”®æ”¹è¿›

1. **æ›´å®‰å…¨çš„çŠ¶æ€ç®¡ç†**
   - ä½¿ç”¨ `pop()` ä»£æ›¿ `del`
   - é¿å…KeyError

2. **æ˜ç¡®çš„æ‰§è¡Œé¡ºåº**
   - å…ˆè®¾ç½®æ¶ˆæ¯
   - å†æ¸…é™¤çŠ¶æ€
   - æœ€åé‡æ–°åŠ è½½

3. **æœåŠ¡é‡å¯**
   - ç¡®ä¿æœ€æ–°ä»£ç ç”Ÿæ•ˆ
   - æ¸…é™¤æ‰€æœ‰ç¼“å­˜

## ğŸ§ª æ•…éšœæ’é™¤

### å¦‚æœè¡¨å•ä»ç„¶æ˜¾ç¤º

1. **æ£€æŸ¥session_state**
   ```python
   # åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯
   st.write("Debug:", st.session_state.get('add_tag_category_id'))
   ```

2. **å¼ºåˆ¶æ¸…é™¤æ‰€æœ‰çŠ¶æ€**
   ```python
   # åœ¨é¡µé¢é¡¶éƒ¨æ·»åŠ æ¸…é™¤æŒ‰é’®
   if st.button("æ¸…é™¤æ‰€æœ‰çŠ¶æ€"):
       for key in list(st.session_state.keys()):
           del st.session_state[key]
       st.rerun()
   ```

3. **æ£€æŸ¥æµè§ˆå™¨**
   - æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
   - æŸ¥çœ‹Consoleæ˜¯å¦æœ‰é”™è¯¯
   - æ¸…é™¤æ‰€æœ‰ç¼“å­˜å’ŒCookie

4. **é‡å¯æ‰€æœ‰æœåŠ¡**
   ```bash
   # åœæ­¢æ‰€æœ‰Pythonè¿›ç¨‹
   Get-Process python | Stop-Process -Force
   
   # é‡æ–°å¯åŠ¨APIå’ŒUI
   python -m uvicorn src.api.main:app --reload --host 0.0.0.0 --port 8000
   python -m streamlit run src/ui/app.py --server.port 8501
   ```

## ğŸ“ ä½¿ç”¨è¯´æ˜

ç°åœ¨çš„æ­£ç¡®æµç¨‹ï¼š

1. ç‚¹å‡»"ğŸ·ï¸ æ·»åŠ æ ‡ç­¾" â†’ è¡¨å•å‡ºç°
2. å¡«å†™å¹¶æäº¤ â†’ è¡¨å•æ¶ˆå¤±ï¼Œæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
3. éœ€è¦å†æ¬¡æ·»åŠ  â†’ å†æ¬¡ç‚¹å‡»æŒ‰é’®

**è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š**
1. é‡å¯StreamlitæœåŠ¡ï¼ˆå·²å®Œæˆï¼‰
2. åœ¨æµè§ˆå™¨ä¸­æŒ‰ `Ctrl + Shift + R` å¼ºåˆ¶åˆ·æ–°
3. æµ‹è¯•æ·»åŠ æ ‡ç­¾åŠŸèƒ½

å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ã€‚
