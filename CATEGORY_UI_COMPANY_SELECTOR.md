# 职位分类管理UI - 企业选择功能

## 📋 更新说明

已为职位分类管理页面添加企业选择功能，现在分类体系正确地关联到企业。

## ✨ 新增功能

### 1. 企业选择器
- 在页面顶部添加企业下拉选择框
- 显示所有可用企业列表
- 显示当前选中的企业信息

### 2. 基于企业的分类管理
- 获取分类树时基于选中的企业
- 创建分类时自动关联到选中的企业
- 获取父级分类时仅显示该企业的分类

## 🎯 使用流程

1. **选择企业**
   - 打开"职位分类管理"页面
   - 在顶部下拉框中选择要管理的企业
   - 系统会显示该企业的分类树

2. **创建分类**
   - 在右侧表单中输入分类信息
   - 分类会自动关联到当前选中的企业
   - 父级分类列表仅显示该企业的分类

3. **管理标签**
   - 为第三层级分类添加标签
   - 标签会影响该企业的岗位评估

## 🔧 技术实现

### UI修改
- 文件: `src/ui/app.py`
- 添加企业选择器组件
- 修改API调用以包含企业ID

### API端点使用
- `GET /api/v1/companies` - 获取所有企业
- `GET /api/v1/companies/{company_id}/categories/tree` - 获取企业分类树
- `POST /api/v1/companies/{company_id}/categories` - 创建企业分类
- `GET /api/v1/companies/{company_id}/categories?level={level}` - 获取指定层级分类

## 📝 注意事项

1. 必须先创建企业才能管理分类
2. 切换企业会显示不同的分类树
3. 删除企业会级联删除其所有分类和标签

## 🧪 测试

运行测试脚本验证功能：
```bash
python test_category_ui_with_company.py
```
