# 三层级职位分类使用指南

## ✅ 功能验证

三层级分类创建功能已完全正常工作！

## 📋 使用流程

### 1. 创建企业
首先在"企业管理"页面创建企业：
- 输入企业名称
- 点击"创建企业"

### 2. 创建第一层级分类
在"职位分类管理"页面：
1. 选择企业
2. 在右侧表单中：
   - 输入分类名称（例如：技术类）
   - 选择"第1层级"
   - 输入描述（可选）
   - 点击"创建分类"

### 3. 创建第二层级分类
1. 在右侧表单中：
   - 输入分类名称（例如：研发工程师）
   - 选择"第2层级"
   - **选择父级分类**（从第一层级分类中选择）
   - 输入描述（可选）
   - 点击"创建分类"

### 4. 创建第三层级分类
1. 在右侧表单中：
   - 输入分类名称（例如：Python后端工程师）
   - 选择"第3层级"
   - **选择父级分类**（从第二层级分类中选择）
   - 输入描述（可选）
   - 添加样本JD ID（1-2个，可选）
   - 点击"创建分类"

### 5. 为第三层级添加标签
在第三层级分类的详情中：
1. 填写标签信息：
   - 标签名称（例如：高战略重要性）
   - 标签类型（战略重要性、业务价值等）
   - 标签描述（说明如何影响评估）
2. 点击"添加标签"

## 🎯 分类层级关系

```
企业
└── 第一层级（例如：技术类）
    └── 第二层级（例如：研发工程师）
        └── 第三层级（例如：Python后端工程师）
            ├── 样本JD（1-2个）
            └── 标签（多个）
```

## 📝 重要说明

1. **父级分类选择**
   - 第二层级必须选择第一层级作为父级
   - 第三层级必须选择第二层级作为父级
   - 系统会自动筛选当前企业的对应层级分类

2. **样本JD**
   - 仅第三层级可以添加样本JD
   - 最多添加2个样本JD
   - 用于提高自动分类的准确性

3. **分类标签**
   - 仅第三层级可以添加标签
   - 标签会影响岗位评估结果
   - 可以添加多个标签

4. **删除规则**
   - 删除企业会级联删除所有分类和标签
   - 删除父级分类会级联删除所有子分类

## 🧪 测试验证

运行测试脚本验证功能：
```bash
python test_three_level_categories.py
```

测试结果：✅ 所有功能正常

## 💡 使用建议

1. **合理规划分类体系**
   - 第一层级：大类（技术类、业务类、管理类等）
   - 第二层级：职能（研发、测试、产品等）
   - 第三层级：具体岗位（Python工程师、前端工程师等）

2. **充分利用标签**
   - 为核心岗位添加"高战略重要性"标签
   - 为稀缺岗位添加"技能稀缺性"标签
   - 标签会影响综合评估结果

3. **添加样本JD**
   - 为常见岗位添加1-2个典型JD作为样本
   - 有助于系统自动分类新的JD
